

<div id="login-page">
  <div @click="loginWithGoogle()">Login By Google</div>
</div>

<script>
  var vm = new Vue({
    el: '#login-page',
    data: {
      
    },
    methods: {
      loginWithGoogle: function() {
        var provider = new firebase.auth.GoogleAuthProvider()

        firebase.auth().signInWithPopup(provider).then(function(result) {
          // This gives you a Google Access Token. You can use it to access the Google API.
          var token = result.credential.accessToken
          // The signed-in user info.
          var user = result.user
          // ...
        }).catch(function(error) {
          // Handle Errors here.
          var errorCode = error.code
          
          var errorMessage = error.message
          // The email of the user's account used.
          var email = error.email
          // The firebase.auth.AuthCredential type that was used.
          var credential = error.credential
          // ...
        })
      },
      checkUserSigned: function() {
        firebase.auth().onAuthStateChanged(function(user) {
          if (user) {
            // console.log(user)
            console.log('User signed')
            // user.getIdToken().then(function(idToken) {  // <------ Check this line
            //   console.log(idToken); // It shows the Firebase token now
            // })
          } else {
            console.log('No User signed')
          }
        })
      }
    },
    mounted: function() {
      this.checkUserSigned()
    }
  })
</script>

